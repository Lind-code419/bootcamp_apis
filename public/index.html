<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootcamp APIs</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
</head>

<body style="background-color: aquamarine;
            font-family: fantasy;
            color: orange; text-align: center;">
    <h1>Wordgame API app</h1>
    <h3 style="color: black;">Enter a sentence and click the button to calculate the longest word, the shortest word and
        the amount of words in the sentence: </h3>

    <div x-data="{
        sentence : '',
        longestWord: '',
        shortestWord: '',
        sum: 0,
        
        findWord() {
                //call api
                axios
                .get(`/api/word_game?sentence=${this.sentence}`)
                .then(result => {

                    if (result.data.error) {
                        this.sentence = result.data.error
                    }
                    else {
                        console.log(result.data.longestWord);
                        this.shortestWord = result.data.shortestWord;
                        this.sum = result.data.sum
                    } 

                    })
                    //console.log(longestWord)


            
        }
     }">


        <div x-text="sentence">

        </div>
        <div x-text="longestWord">

        </div>
        <div x-text="shortestWord">

        </div>
        <div x-text="sum">

        </div>
        <input type="text" x-model="sentence">
        <input type="button" value="Find words" @click="findWord()">


    </div>
    <hr>
    <h1>Total phone bill</h1>
    <h3 style="color: black;"><p>Type in the calls and smses, separated by a comma: </p></h3>
    <div>
        <input type="text" x-model="billItems">
        <input type="button" value="Calculate cost" @click="findWord()">

    </div>
    <hr>
    <h1>Total phone bill</h1>
    <h3 style="color: black;"><p>Type in the calls and smses, separated by a comma, in the first box and the current balance in the second box, then click the button:</p></h3>
    <div>
        <input type="text" x-model="billItems2">
        <input type="text" x-model="airtime">
        <input type="button" value="Calculate cost" @click="findWord()">

    </div>
    <hr>

</body>

</html>